web_share_ubuntu
=========

Роль для установки и первичной настройки: 
+ nginx
+ angie
+ php7.4-fpm
+ vsftpd

<br>

---

Требования
------------

1. ОС: Ubuntu (проверлось на версиях 18.04 - 24.04) 
2. Выполняется от root или пользователя с повышенными привелегиями(sudo)
3. На управляющей ноде должна быть установленна коллекция community.general

<br>

---

Пример применения роли в плейбуке
----------------

```
- hosts: localhost 
  remote_user: root 
  roles: 
    - web_share_ubuntu
```
<br>

В роли используются следующие тэги


|Тэг|Назначение|
|---|---|
|angie_install|Установка angie|
|angie_mod|Установка плагинов angie и активация в angie.conf (с проверкой наличия установленного angie и без настроек в конфигурациях /etc/angie/http.d)|
|angie_page|Генерация и публикция дефолтной страницы из шаблона (с проверкой наличия установленного angie)|
|nginx_install|Установка nginx|
|nginx_page|Генерация и публикция дефолтной страницы из шаблона (с проверкой наличия установленного nginx)|
|php_fpm| Установка php-fpm. Публикция демо-страницы(с проверкой наличия установленного nginx)|
|ftp| Установка vsftpd. Настройка для скачивания файлов через веб-интерфейс|
|ufw|Конфигурация усnановленного ufw для открытия портов: 22, 80, 443|


Пример установки angie
```
ansible-playbook <<ПУТЬ К ПЛЕЙБУКУ>> -t angie_instal
```
